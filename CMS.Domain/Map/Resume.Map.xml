<?xml version="1.0" encoding="utf-8" ?> 
<!--============================================================================
//	CAUTION: This file is generated by IBatisNetGen.BatisMap.cst at 2011/9/14 21:40:03
//				Any manual editing will be lost in re-generation.
//===========================================================================-->
<sqlMap namespace="Resume"
	xmlns="http://ibatis.apache.org/mapping" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

	<alias>
		<typeAlias alias="Resume" type="CMS.Domain.Resume" />
	</alias>

	<resultMaps>
		<resultMap id="FullResultMap" class="Resume">
			<result property="ID" column="ID" dbType="BigInt"/>
			<result property="PositionID" column="PositionID" dbType="BigInt"/>
      <result property="JobInfomation" resultMapping="JobInfo.FullResultMap"/>
			<result property="Name" column="Name" dbType="VarChar"/>
			<result property="Mobile" column="Mobile" dbType="VarChar"/>
			<result property="Telphone" column="telphone" dbType="VarChar"/>
			<result property="Text" column="ResumeText" dbType="NText"/>
			<result property="FileID" column="FileID" dbType="BigInt"/>
			<result property="CreateTime" column="CreateTime" dbType="DateTime"/>
			<result property="Status" column="Status" dbType="Int"/>
			<result property="ReviewUserID" column="ReviewUserID" dbType="BigInt"/>
			<result property="ReviewTime" column="ReviewTime" dbType="DateTime"/>
      <result property="Email" column="Email" dbType="Varchar"/>
		</resultMap>
	</resultMaps>
	
	<statements>

		<select id="GetCount" resultClass="System.Int32">
			SELECT count(*) FROM [dbo].[Resume]
		</select>
		
		<select id="FindAll" resultMap="FullResultMap">
			SELECT * 
			FROM [dbo].[Resume]
		</select>
		
		<select id="Find" parameterClass="Resume" resultMap="FullResultMap" extends="FindAll">
			WHERE
				([Resume].[ID] = #ID,dbType=BigInt#)
		</select>
		
		<select id="FindByPositionID" parameterClass="Int64" resultMap="FullResultMap" extends="FindAll">
			WHERE ([Resume].[PositionID] = #value#)
		</select>
		<select id="FindByName" parameterClass="String" resultMap="FullResultMap" extends="FindAll">
			WHERE ([Resume].[Name] = #value#)
		</select>
		<select id="FindByMobile" parameterClass="String" resultMap="FullResultMap" extends="FindAll">
			WHERE ([Resume].[Mobile] = #value#)
		</select>
		<select id="FindByTelphone" parameterClass="String" resultMap="FullResultMap" extends="FindAll">
			WHERE ([Resume].[telphone] = #value#)
		</select>
		<select id="FindByText" parameterClass="String" resultMap="FullResultMap" extends="FindAll">
			WHERE ([Resume].[ResumeText] = #value#)
		</select>
		<select id="FindByFileID" parameterClass="Int64" resultMap="FullResultMap" extends="FindAll">
			WHERE ([Resume].[FileID] = #value#)
		</select>
		<select id="FindByCreateTime" parameterClass="DateTime" resultMap="FullResultMap" extends="FindAll">
			WHERE ([Resume].[CreateTime] = #value#)
		</select>
		<select id="FindByStatus" parameterClass="Int32" resultMap="FullResultMap" extends="FindAll">
			WHERE ([Resume].[Status] = #value#)
		</select>
		<select id="FindByReviewUserID" parameterClass="Int64" resultMap="FullResultMap" extends="FindAll">
			WHERE ([Resume].[ReviewUserID] = #value#)
		</select>
		<select id="FindByReviewTime" parameterClass="DateTime" resultMap="FullResultMap" extends="FindAll">
			WHERE ([Resume].[ReviewTime] = #value#)
		</select>

    <select id="FindAllUnion" resultMap="FullResultMap">
      SELECT * FROM [dbo].[Resume] as A inner join JobInfo as B on A.PositionID=B.ID
    </select>

    <select id="FindAllUnionByjobID" resultMap="FullResultMap" parameterClass="Int64" extends="FindAllUnion">
      where A.PositionID=#value#
    </select>
    
    <select id="FindAllDetail" resultMap="FullResultMap" parameterClass="Int64" extends="FindAllUnion">
      where A.ID=#value#
    </select>
    
		<insert id="Insert" parameterClass="Resume">
      INSERT INTO [dbo].[Resume] (
      [PositionID]
      , [Name]
      , [Mobile]
      , [telphone]
      , [ResumeText]
      , [FileID]
      , [CreateTime]
      , [Status]
      , [ReviewUserID]
      , [ReviewTime]
      , [Email]
      ) VALUES (
      #PositionID,dbType=BigInt#
      , #Name,dbType=VarChar#
      , #Mobile,dbType=VarChar#
      , #Telphone,dbType=VarChar#
      , #Text,dbType=NText#
      , #FileID,dbType=BigInt#
      , #CreateTime,dbType=DateTime#
      , #Status,dbType=Int#
      , #ReviewUserID,dbType=BigInt#
      , #ReviewTime,dbType=DateTime#
      , #Email,dbType=VarChar#
      )
    </insert>

		<update id="Update" parameterClass="Resume">
			UPDATE [dbo].[Resume] SET
				 [Status] = #Status,dbType=Int#
				, [ReviewUserID] = #ReviewUserID,dbType=BigInt#
				, [ReviewTime] = #ReviewTime,dbType=DateTime#
			WHERE
				([ID] = #ID,dbType=BigInt#)
		</update>

		<delete id="Delete" parameterClass="Resume">
			DELETE FROM [dbo].[Resume]
			WHERE
				([ID] = #ID,dbType=BigInt#)
		</delete>

		<delete id="DeleteByPositionID" parameterClass="Int64">
			DELETE FROM [dbo].[Resume] WHERE ([PositionID] = #value#)
		</delete>
		<delete id="DeleteByName" parameterClass="String">
			DELETE FROM [dbo].[Resume] WHERE ([Name] = #value#)
		</delete>
		<delete id="DeleteByMobile" parameterClass="String">
			DELETE FROM [dbo].[Resume] WHERE ([Mobile] = #value#)
		</delete>
		<delete id="DeleteByTelphone" parameterClass="String">
			DELETE FROM [dbo].[Resume] WHERE ([telphone] = #value#)
		</delete>
		<delete id="DeleteByText" parameterClass="String">
			DELETE FROM [dbo].[Resume] WHERE ([ResumeText] = #value#)
		</delete>
		<delete id="DeleteByFileID" parameterClass="Int64">
			DELETE FROM [dbo].[Resume] WHERE ([FileID] = #value#)
		</delete>
		<delete id="DeleteByCreateTime" parameterClass="DateTime">
			DELETE FROM [dbo].[Resume] WHERE ([CreateTime] = #value#)
		</delete>
		<delete id="DeleteByStatus" parameterClass="Int32">
			DELETE FROM [dbo].[Resume] WHERE ([Status] = #value#)
		</delete>
		<delete id="DeleteByReviewUserID" parameterClass="Int64">
			DELETE FROM [dbo].[Resume] WHERE ([ReviewUserID] = #value#)
		</delete>
		<delete id="DeleteByReviewTime" parameterClass="DateTime">
			DELETE FROM [dbo].[Resume] WHERE ([ReviewTime] = #value#)
		</delete>
		
		<select id="Reload" parameterClass="Resume" resultMap="FullResultMap" extends="FindAll">
			WHERE ([Resume].[ID] = #ID,dbType=BigInt#)
		</select>
	</statements>
</sqlMap>
